/*
* @nebula.js/theme v0.1.0-alpha.29
* Copyright (c) 2020 QlikTech International AB
* Released under the MIT license.
*/

var e={};function t(){t.init.call(this)}e.isObject=function(e){return"object"==typeof e&&null!==e},e.isNumber=function(e){return"number"==typeof e},e.isUndefined=function(e){return void 0===e},e.isFunction=function(e){return"function"==typeof e};var r=t;t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(t){if(!e.isNumber(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},t.prototype.emit=function(t){var r,n,i,o,a,s;if(this._events||(this._events={}),"error"===t&&!this._events.error)throw(r=arguments[1])instanceof Error?r:Error('Uncaught, unspecified "error" event.');if(n=this._events[t],e.isUndefined(n))return!1;if(e.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];n.apply(this,o)}else if(e.isObject(n)){for(i=arguments.length,o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];for(i=(s=n.slice()).length,a=0;a<i;a++)s[a].apply(this,o)}return!0},t.prototype.addListener=function(r,n){var i;if(!e.isFunction(n))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",r,e.isFunction(n.listener)?n.listener:n),this._events[r]?e.isObject(this._events[r])?this._events[r].push(n):this._events[r]=[this._events[r],n]:this._events[r]=n,e.isObject(this._events[r])&&!this._events[r].warned)&&((i=e.isUndefined(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[r].length>i&&(this._events[r].warned=!0,e.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[r].length),e.isFunction(console.trace)&&console.trace()));return this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(t,r){if(!e.isFunction(r))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,r.apply(this,arguments))}return i.listener=r,this.on(t,i),this},t.prototype.removeListener=function(t,r){var n,i,o,a;if(!e.isFunction(r))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(n=this._events[t]).length,i=-1,n===r||e.isFunction(n.listener)&&n.listener===r)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,r);else if(e.isObject(n)){for(a=o;a-- >0;)if(n[a]===r||n[a].listener&&n[a].listener===r){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,r)}return this},t.prototype.removeAllListeners=function(t){var r,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(r in this._events)"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],e.isFunction(n))this.removeListener(t,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},t.prototype.listeners=function(t){return this._events&&this._events[t]?e.isFunction(this._events[t])?[this._events[t]]:this._events[t].slice():[]},t.listenerCount=function(t,r){return t._events&&t._events[r]?e.isFunction(t._events[r])?1:t._events[r].length:0};var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},l=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;for(t in e);return void 0===t||n.call(e,t)},u=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]},h=function e(){var t,r,n,i,o,a,h=arguments[0],f=1,p=arguments.length,d=!1;for("boolean"==typeof h&&(d=h,h=arguments[1]||{},f=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});f<p;++f)if(null!=(t=arguments[f]))for(r in t)n=c(h,r),h!==(i=c(t,r))&&(d&&i&&(l(i)||(o=s(i)))?(o?(o=!1,a=n&&s(n)?n:[]):a=n&&l(n)?n:{},u(h,{name:r,newValue:e(d,a,i)})):void 0!==i&&u(h,{name:r,newValue:i}));return h},f={fontSize:"13px",fontFamily:"'Source Sans Pro', 'Arial', 'sans-serif'",backgroundColor:"transparent",dataColors:{primaryColor:"#26a0a7",othersColor:"#a5a5a5",errorColor:"#ff4444",nullColor:"#d2d2d2"},scales:[{name:"Sequential Gradient",translation:"properties.colorScheme.sequential",type:"gradient",propertyValue:"sg",scale:["#26a0a7","#c7ea8b"]},{name:"Sequential Classes",translation:"properties.colorScheme.sequentialC",propertyValue:"sc",type:"class",scale:["#26a0a7","#c7ea8b"]},{name:"Diverging gradient",translation:"properties.colorScheme.diverging",propertyValue:"dg",type:"gradient",scale:["#26a0a7","#c3ea8c","#ec983d"]},{name:"Diverging Classes",translation:"properties.colorScheme.divergingC",propertyValue:"dc",type:"class",scale:["#26a0a7","#c3ea8c","#ec983d"]}],palettes:{data:[{name:"12 Colors",translation:"properties.colorNumberOfColors.12",propertyValue:"12",type:"pyramid",scale:[["#26A0A7"],["#26A0A7","#EC983D"],["#26A0A7","#CBE989","#EC983D"],["#26A0A7","#79D69F","#F9EC86","#EC983D"],["#26A0A7","#79D69F","#CBE989","#F9EC86","#EC983D"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#EC983D"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#EC983D","#D76C6C"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C","#A54343"],["#138185","#26A0A7","#65D3DA","#79D69F","#70BA6E","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C","#A54343"]]}],ui:[{name:"Palette",colors:["#b0afae","#7b7a78","#a54343","#d76c6c","#ec983d","#ecc43d","#f9ec86","#cbe989","#70ba6e","#578b60","#79d69f","#26a0a7","#138185","#65d3da","#ffffff","#000000"]}]}},p={_variables:{"@B20":"#333333","@B35":"#595959","@B45":"#737373","@B50":"#808080","@B60":"#999999","@B80":"#cccccc","@B90":"#e6e6e6","@B98":"#fbfbfb","@B100":"#ffffff","@H1":"24px","@H2":"18px","@H3":"14px","@H4":"13px","@H5":"12px","@H6":"10px"},type:"light",color:"@B35"},d={_variables:{"@B20":"#333333","@B35":"#595959","@B45":"#737373","@B50":"#808080","@B60":"#999999","@B80":"#cccccc","@B90":"#e6e6e6","@B98":"#fbfbfb","@B100":"#ffffff","@H1":"24px","@H2":"18px","@H3":"14px","@H4":"13px","@H5":"12px","@H6":"10px"},type:"dark",color:"@B98"};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t){var r,n,i=[];if(e)for(var o=e.length;o>=0;){for(n=(r=t.slice()).length;n>=0;)i.push(r.concat(e)),r.pop(),n--;e.pop(),o--}else for(n=(r=t.slice()).length;n>=0;)i.push(r.concat()),r.pop(),n--;return i}function b(e,t){for(var r=e,n=0;n<t.length;n++){if(!r[t[n]])return null;r=r[t[n]]}return r}function w(e,t,r,n){var i;""===e?i=v(null,r):i=v(e.split("."),r);return function(e,t,r){for(var n=0;n<e.length;n++){var i=b(r,e[n]);if(null!==i&&i[t])return i[t]}}(i,t,n)}function C(e,t){var r=e.split(".");return{getStyle:function(e,n){return w(e,n,r.concat(),t)}}}function A(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function x(){}C.resolveRawTheme=function(e){var t=h(!0,{},e);return function e(t,r){Object.keys(t).forEach((function(n){"object"===y(t[n])&&null!==t[n]?e(t[n],r):"string"==typeof t[n]&&"@"===t[n].charAt(0)&&(t[n]=r[t[n]])}))}(t,t._variables),t};var E="\\s*([+-]?\\d+)\\s*",D="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",k="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F=/^#([0-9a-f]{3,8})$/,B=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),M=new RegExp("^rgb\\("+[k,k,k]+"\\)$"),N=new RegExp("^rgba\\("+[E,E,E,D]+"\\)$"),S=new RegExp("^rgba\\("+[k,k,k,D]+"\\)$"),L=new RegExp("^hsl\\("+[D,k,k]+"\\)$"),j=new RegExp("^hsla\\("+[D,k,k,D]+"\\)$"),O={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function H(){return this.rgb().formatHex()}function P(){return this.rgb().formatRgb()}function q(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=F.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?R(t):3===r?new $(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?new $(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?new $(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=B.exec(e))?new $(t[1],t[2],t[3],1):(t=M.exec(e))?new $(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=N.exec(e))?T(t[1],t[2],t[3],t[4]):(t=S.exec(e))?T(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=L.exec(e))?G(t[1],t[2]/100,t[3]/100,1):(t=j.exec(e))?G(t[1],t[2]/100,t[3]/100,t[4]):O.hasOwnProperty(e)?R(O[e]):"transparent"===e?new $(NaN,NaN,NaN,0):null}function R(e){return new $(e>>16&255,e>>8&255,255&e,1)}function T(e,t,r,n){return n<=0&&(e=t=r=NaN),new $(e,t,r,n)}function V(e){return e instanceof x||(e=q(e)),e?new $((e=e.rgb()).r,e.g,e.b,e.opacity):new $}function $(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function I(){return"#"+z(this.r)+z(this.g)+z(this.b)}function U(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function z(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function G(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new K(e,t,r,n)}function J(e){if(e instanceof K)return new K(e.h,e.s,e.l,e.opacity);if(e instanceof x||(e=q(e)),!e)return new K;if(e instanceof K)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(r-n)/s+6*(r<n):r===o?(n-t)/s+2:(t-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new K(a,s,l,e.opacity)}function K(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Q(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function W(e){var t=q(e).rgb(),r=g([t.r,t.g,t.b].map((function(e){return e/255})),3),n=g([r[0],r[1],r[2]].map((function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),3);return+(.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(5)}function X(e,t){return+((Math.max(e,t)+.05)/(Math.min(e,t)+.05)).toFixed(5)}A(x,q,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:H,formatHex:H,formatHsl:function(){return J(this).formatHsl()},formatRgb:P,toString:P}),A($,(function(e,t,r,n){return 1===arguments.length?V(e):new $(e,t,r,null==n?1:n)}),_(x,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new $(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new $(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I,formatHex:I,formatRgb:U,toString:U})),A(K,(function(e,t,r,n){return 1===arguments.length?J(e):new K(e,t,r,null==n?1:n)}),_(x,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new K(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new K(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new $(Q(e>=240?e-240:e+120,i,n),Q(e,i,n),Q(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));export default function(){var e,t,n,i={},o={getDataColorScales:function(){return t.dataScales()},getDataColorPalettes:function(){return t.dataPalettes()},getDataColorPickerPalettes:function(){return t.uiPalettes()},getDataColorSpecials:function(){return t.dataColors()},getColorPickerColor:function(){var e;return(e=t).uiColor.apply(e,arguments)},getContrastingColorTo:function(e){return n.getBestContrastColor(e)},getStyle:function(t,r,n){return i[t]||(i[t]=C(t,e)),i[t].getStyle(r,n,!1)}},a={setTheme:function(r,a){var s,l;e=function(e,t){var r="dark"===e.type?d:p,n=h(!0,{},f,r),i=h(!0,{},n,{scales:null,palettes:{data:null,ui:null}},e);return i.palettes.data||(i.palettes.data=n.palettes.data),i.palettes.ui||(i.palettes.ui=n.palettes.ui),i.scales||(i.scales=n.scales),t(i)}(r,C.resolveRawTheme),i={},s=e,t={dataScales:function(){var e=[];return s.scales.forEach((function(t){e.push({key:t.propertyValue,name:t.name,translation:t.translation,scheme:!0,type:t.type,colors:t.scale})})),e},dataPalettes:function(){var e=[];return s.palettes.data.forEach((function(t){e.push({key:t.propertyValue,name:t.name,translation:t.translation,type:t.type,colors:t.scale})})),e},uiPalettes:function(){var e=[];return s.palettes.ui.forEach((function(t){e.push({key:"ui",name:t.name,translation:t.translation,type:"row",colors:t.colors})})),e},dataColors:function(){return{primary:s.dataColors.primaryColor,nil:s.dataColors.nullColor,others:s.dataColors.othersColor}},uiColor:function(e){return e.index<0||void 0===e.index?e.color:(void 0===l&&(l=this.uiPalettes()[0]||!1),l?void 0===l.colors[e.index]?e.color:l.colors[e.index]:e.color)}};var u=o.getStyle("","","color"),c=W(u);n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["#333333","#ffffff"],t={},r=0,n=e.map(W);return{getBestContrastColor:function(i){if(!t[i]){r>1e3&&(t={},r=0);var o=W(i),a=n.map((function(e){return X(o,e)})),s=e[a.indexOf(Math.max.apply(Math,m(a)))];t[i]=s,r++}return t[i]}}}([u,c<.2?"#ffffff":"#333333"]),o.emit("changed"),o.name=function(){return a}}};return Object.keys(r.prototype).forEach((function(e){o[e]=r.prototype[e]})),r.init(o),a.setTheme({},"light"),{externalAPI:o,internalAPI:a}}
